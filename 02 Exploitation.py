# -*- coding: utf8 -*-

import requests
import pdb
import re


with open('pagescollectees/total.txt','r',encoding='utf8') as output:
    content = output.read()

d = 150

action = content[88227-d:88227+d]
prix = content[131880-d:131880+d]
cap_boursiere = content[132820-d:132820+d]
price_earning_ratio = content[133236-d:133236+d]
beta = content[133357-d:133357+d]
benefice_par_action = content[132564-d:132564+d]
dividendes = content[132954-d:132954+d]
revenus = content[132160-d:132160+d]
action_en_circulation = content[133626-d:133626+d]
secteur = content[197710-d:197710+d]
effectif = content[197846-d:197846+d]

# exemple - prix 34,27 (.+?(?= puis ))' 
patern = 'Clôture précédente</span><span class="float_lang_base_2 bold">(.+?(?=</span></div>))'
result = re.findall(patern,content)
if result==[]:
    print("problème d\'extraction")
else:
    print(result)
    print('le prix de l\'action total est:',result)

pdb.set_trace()
